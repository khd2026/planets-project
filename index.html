<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>كواكب المجموعة الشمسية</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background-color: #9e4bc5;
    color: #006560;
    direction: rtl;
    margin: 20px;
  }
  h1 {
    text-align: center;
    color: #f8f7f6;
  }
  .btn-group {
    text-align: center;
    margin-bottom: 15px;
  }
  button {
    background-color: #a2a1ec;
    color: rgb(14, 13, 13);
    border: none;
    padding: 10px 10px;
    margin: 0 10px;
    border-radius: 4px;
    cursor: pointer;
    font-weight: bold;
  }
  button:hover {
    background-color: #c45d08;
  }
  input, textarea {
    padding: 7px;
    margin: 5px 7px;
    border: 1px solid #070000;
    border-radius: 5px;
    font-size: 16px;
    text-align: center;
  }
  input {
    width: 120px;
  }
  textarea {
    width: 95%;
    height: 80px;
    resize: vertical;
    text-align: right;
  }
  .container {
    max-width: 1200px;
    margin: auto;
  }
  .cards-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    grid-template-rows: repeat(4, auto);
    gap: 18px;
    margin-bottom: 30px;
  }
  .card {
    background-color: #ecedf1;
    color: rgb(0, 0, 0);
    border-radius: 10px;
    padding: 15px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.2);
    text-align: center;
    position: relative;
    background-size: cover;
    background-position: center;
    color: white;
    text-shadow: 1px 1px 4px black;
  }
  .card img {
    width: 80px;
    height: 80px;
    border-radius: 50%;
    border: 2px solid rgb(10, 10, 10);
    margin-bottom: 10px;
    background-color: rgba(255,255,255,0.8);
  }
  .card h3 {
    margin: 8px 0;
  }
  .subtitle {
    font-size: 14px;
    margin: 6px 0;
  }
  .highlight {
    font-weight: bold;
    color: #fffbf0;
  }
  .astro-info {
    background-color: rgba(0,0,0,0.5);
    color: #f8f7f6;
    padding: 15px;
    border-radius: 15px;
    text-align: center;
    font-size: 18px;
    line-height: 1.4;
  }

  /* قسم التعليقات */
  #comments-section {
    max-width: 800px;
    margin: 0 auto 40px auto;
    background-color: #f4f4f4;
    border-radius: 10px;
    padding: 20px;
    box-shadow: 0 1px 6px rgba(0,0,0,0.15);
    color: #000;
  }
  #comments-section h3 {
    margin-bottom: 10px;
  }
  #comments-list p {
    background: #d1c4e9;
    padding: 8px 12px;
    border-radius: 6px;
    margin-bottom: 8px;
    text-align: right;
    font-size: 16px;
    color: #3e2f5b;
  }
  #comment-input {
    direction: rtl;
    font-size: 16px;
  }

  @media print {
    button, input, textarea {
      display: none;
    }
    #comments-section {
      display: none;
    }
    body {
      background: rgb(216, 174, 135);
      color: black;
    }
    .card {
      box-shadow: none;
      border: 1px solid #645ec0;
      color: black;
      background: rgb(167, 113, 113);
      background-image: none !important;
      text-shadow: none;
    }
    .astro-info {
      color: black;
      background: #c48989;
      text-shadow: none;
    }
  }
</style>
</head>
<body>
<div class="container">
  <h1 id="title"> وزنك وعمرك على كواكب المجموعة الشمسية</h1>
  <div class="btn-group">
    <button id="arabicBtn">العربية</button>
    <button id="englishBtn">English</button>
    <button id="resetBtn">إعادة التجربة</button>
    <button id="printBtn">طباعة النتائج</button>
  </div>
  <div style="text-align:center; margin-bottom: 20px;">
    <input type="text" id="nameInput" placeholder="الاسم" />
    <input type="number" id="ageInput" placeholder="العمر (سنة)" min="0" />
    <input type="number" id="weightInput" placeholder="الوزن (كجم)" min="0" />
    <button id="calculateBtn">احسب</button>
  </div>
  <div class="cards-grid" id="cardsGrid"></div>

  <!-- قسم التعليقات -->
  <div id="comments-section" style="display:none;">
    <h3>التعليقات</h3>
    <div id="comments-list"></div>
    <textarea id="comment-input" placeholder="اكتب تعليقك هنا..."></textarea><br />
    <button id="addCommentBtn">إرسال</button>
  </div>
  
</div>

<script>
  const planets = [
    {
      arName: "عطارد",
      enName: "Mercury",
      gravity: 0.38,
      image: "https://upload.wikimedia.org/wikipedia/commons/4/4a/Mercury_in_true_color.jpg"
    },
    {
      arName: "الزهرة",
      enName: "Venus",
      gravity: 0.91,
      image: "https://upload.wikimedia.org/wikipedia/commons/e/e5/Venus-real_color.jpg"
    },
    {
      arName: "الأرض",
      enName: "Earth",
      gravity: 1,
      image: "https://upload.wikimedia.org/wikipedia/commons/9/97/The_Earth_seen_from_Apollo_17.jpg"
    },
    {
      arName: "المريخ",
      enName: "Mars",
      gravity: 0.38,
      image: "https://upload.wikimedia.org/wikipedia/commons/0/02/OSIRIS_Mars_true_color.jpg"
    },
    {
      arName: "المشتري",
      enName: "Jupiter",
      gravity: 2.34,
      image: "https://upload.wikimedia.org/wikipedia/commons/e/e2/Jupiter.jpg"
    },
    {
      arName: "زحل",
      enName: "Saturn",
      gravity: 1.06,
      image: "https://upload.wikimedia.org/wikipedia/commons/c/c7/Saturn_during_Equinox.jpg"
    },
    {
      arName: "أورانوس",
      enName: "Uranus",
      gravity: 0.92,
      image: "https://upload.wikimedia.org/wikipedia/commons/3/3d/Uranus2.jpg"
    },
    {
      arName: "نبتون",
      enName: "Neptune",
      gravity: 1.19,
      image: "https://upload.wikimedia.org/wikipedia/commons/5/56/Neptune_Full.jpg"
    }
  ];

  const sun = {
    arName: "الشمس",
    enName: "Sun",
    gravity: 27.9,
    image: "https://upload.wikimedia.org/wikipedia/commons/c/c3/Solar_sys8.jpg"
  };

  const moon = {
    arName: "القمر",
    enName: "Moon",
    gravity: 0.1655,
    image: "https://upload.wikimedia.org/wikipedia/commons/e/e1/FullMoon2010.jpg"
  };

  const allBodies = [...planets, sun, moon];

  const astroFacts = {
    ar: [
      "الشمس تشكل أكثر من 99.8% من كتلة النظام الشمسي.",
      "عطارد هو أقرب كوكب إلى الشمس.",
      "المريخ يعرف بالكوكب الأحمر بسبب أكاسيد الحديد على سطحه.",
      "زحل يتميز بحلقاته الجميلة التي تحيط به.",
      "أورانوس يدور على جانبه مقارنة بباقي الكواكب.",
      "القمر هو الجسم الطبيعي الوحيد الذي زاره الإنسان.",
      "نبتون هو أبعد كوكب في النظام الشمسي.",
      "الزهرة يشتهر بسطحه الحار والغلاف الجوي السميك.",
      "المشتري هو أكبر كواكب المجموعة الشمسية.",
      "الأرض هي الكوكب الوحيد الذي يدعم الحياة.",
      "الشمس هي نجم متوسطة الحجم تبعد عنا حوالي 150 مليون كيلومتر.",
      "يدور القمر حول الأرض في حوالي 27.3 يومًا."
    ],
    en: [
      "The Sun makes up more than 99.8% of the Solar System's mass.",
      "Mercury is the closest planet to the Sun.",
      "Mars is known as the Red Planet due to iron oxides on its surface.",
      "Saturn is famous for its beautiful rings.",
      "Uranus rotates on its side compared to other planets.",
      "The Moon is the only natural body visited by humans.",
      "Neptune is the farthest planet in the Solar System.",
      "Venus has a hot surface and thick atmosphere.",
      "Jupiter is the largest planet in the Solar System.",
      "Earth is the only planet that supports life.",
      "The Sun is a medium-sized star about 150 million kilometers away.",
      "The Moon orbits Earth in about 27.3 days."
    ]
  };

  let currentLang = "ar";

  // إظهار النتائج
  function showResults(name, age, weight) {
    const cardsGrid = document.getElementById("cardsGrid");
    cardsGrid.innerHTML = "";

    // نختار 10 كواكب/أجرام (8 كواكب + الشمس + القمر)
    // و 2 حاويات للحقائق الفلكية (اخترت أول 2 حقيقة من astroFacts)
    const bodiesToShow = allBodies; // 10 أجسام
    const factsToShow = astroFacts[currentLang].slice(0, 2);

    // إنشاء كروت الكواكب والأجرام السماوية
    bodiesToShow.forEach(body => {
      const card = document.createElement("div");
      card.classList.add("card");
      card.style.backgroundImage = `url(${body.image})`;

      const nameText = currentLang === "ar" ? body.arName : body.enName;
      card.innerHTML = `
        <img src="${body.image}" alt="${nameText}" />
        <h3>${nameText}</h3>
        <p class="subtitle">
          ${currentLang === "ar" ? "وزنك على هذا الجسم" : "Your weight on this body"}:
          <span class="highlight">${(weight * body.gravity).toFixed(1)} ${currentLang === "ar" ? "كجم" : "kg"}</span>
        </p>
        <p class="subtitle">
          ${currentLang === "ar" ? "عمرك على هذا الجسم" : "Your age on this body"}:
          <span class="highlight">${(age / body.gravity).toFixed(1)} ${currentLang === "ar" ? "سنة" : "years"}</span>
        </p>
      `;

      cardsGrid.appendChild(card);
    });

    // إنشاء قسم الحقائق الفلكية
    factsToShow.forEach(fact => {
      const factDiv = document.createElement("div");
      factDiv.classList.add("astro-info");
      factDiv.textContent = fact;
      cardsGrid.appendChild(factDiv);
    });

    // إظهار قسم التعليقات بعد الحساب
    document.getElementById("comments-section").style.display = "block";

    loadComments();
  }

  // تحميل وعرض التعليقات من localStorage
  function loadComments() {
    const commentsList = document.getElementById("comments-list");
    commentsList.innerHTML = ""; // نظف التعليقات القديمة

    const savedComments = JSON.parse(localStorage.getItem("userComments")) || [];
    savedComments.forEach(comment => {
      displayComment(comment.name, comment.text);
    });
  }

  // عرض تعليق في الصفحة
  function displayComment(name, text) {
    const commentsList = document.getElementById("comments-list");
    const p = document.createElement("p");
    // تأكد عرض الاسم بشكل آمن لتجنب إدخال HTML خبيث (هنا بسيط)
    const safeName = escapeHtml(name);
    const safeText = escapeHtml(text);
    p.innerHTML = `<strong>${safeName}:</strong> ${safeText}`;
    commentsList.appendChild(p);
  }

  // دالة مساعدة للهروب من علامات HTML
  function escapeHtml(text) {
    const div = document.createElement('div');
    div.textContent = text;
    return div.innerHTML;
  }

  // إضافة تعليق جديد مع الاسم
  function addComment() {
    const commentInput = document.getElementById("comment-input");
    const commentText = commentInput.value.trim();
    const userName = document.getElementById("nameInput").value.trim();

    if (!userName) {
      alert(currentLang === "ar" ? "يرجى إدخال الاسم قبل كتابة التعليق" : "Please enter your name before commenting");
      return;
    }
    if (!commentText) {
      alert(currentLang === "ar" ? "يرجى كتابة تعليق قبل الإرسال" : "Please write a comment before sending");
      return;
    }

    // جلب التعليقات الحالية من localStorage
    let savedComments = JSON.parse(localStorage.getItem("userComments")) || [];

    // حفظ تعليق جديد مع الاسم والتاريخ (اختياري)
    savedComments.push({
      name: userName,
      text: commentText,
      date: new Date().toISOString()
    });

    localStorage.setItem("userComments", JSON.stringify(savedComments));

    // عرض التعليق الجديد في الصفحة
    displayComment(userName, commentText);

    commentInput.value = "";
  }

  // تهيئة الأحداث
  document.getElementById("calculateBtn").addEventListener("click", () => {
    const name = document.getElementById("nameInput").value.trim();
    const age = parseFloat(document.getElementById("ageInput").value);
    const weight = parseFloat(document.getElementById("weightInput").value);

    if (!name) {
      alert(currentLang === "ar" ? "يرجى إدخال الاسم" : "Please enter your name");
      return;
    }
    if (isNaN(age) || age <= 0) {
      alert(currentLang === "ar" ? "يرجى إدخال عمر صحيح أكبر من صفر" : "Please enter a valid age greater than zero");
      return;
    }
    if (isNaN(weight) || weight <= 0) {
      alert(currentLang === "ar" ? "يرجى إدخال وزن صحيح أكبر من صفر" : "Please enter a valid weight greater than zero");
      return;
    }

    showResults(name, age, weight);
  });

  document.getElementById("addCommentBtn").addEventListener("click", addComment);

  // أزرار اللغة
  document.getElementById("arabicBtn").addEventListener("click", () => {
    currentLang = "ar";
    resetForm();
  });
  document.getElementById("englishBtn").addEventListener("click", () => {
    currentLang = "en";
    resetForm();
  });

  // زر إعادة التجربة (مسح المدخلات والنتائج)
  document.getElementById("resetBtn").addEventListener("click", resetForm);

  // زر الطباعة
  document.getElementById("printBtn").addEventListener("click", () => {
    window.print();
  });

  function resetForm() {
    document.getElementById("nameInput").value = "";
    document.getElementById("ageInput").value = "";
    document.getElementById("weightInput").value = "";
    document.getElementById("cardsGrid").innerHTML = "";
    document.getElementById("comments-list").innerHTML = "";
    document.getElementById("comments-section").style.display = "none";
  }
</script>
</body>
</html>
